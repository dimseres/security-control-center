# Runtime profile
ENV=dev
APP_ENV=dev
DEPLOYMENT_MODE=home
APP_CONFIG=/app/config/app.yaml
PORT=8080
DATA_PATH=/app/data
TZ=Europe/Moscow

# Secrets (replace before production)
CSRF_KEY=REPLACE_WITH_BASE64_32_BYTES
PEPPER=REPLACE_WITH_BASE64_32_BYTES
DOCS_ENCRYPTION_KEY=REPLACE_WITH_BASE64_32_BYTES
BACKUP_ENCRYPTION_KEY=REPLACE_WITH_BASE64_32_BYTES

# Optional BERKUT_* overrides
BERKUT_LISTEN_ADDR=0.0.0.0:8080
BERKUT_DB_DRIVER=postgres
BERKUT_DB_URL=postgres://berkut:berkut@postgres:5432/berkut?sslmode=disable
BERKUT_SESSION_TTL=3h
BERKUT_DOCS_STORAGE_DIR=/app/data/docs
BERKUT_DOCS_ONLYOFFICE_ENABLED=false
BERKUT_DOCS_ONLYOFFICE_PUBLIC_URL=/office/
BERKUT_DOCS_ONLYOFFICE_INTERNAL_URL=http://onlyoffice/
BERKUT_DOCS_ONLYOFFICE_APP_INTERNAL_URL=http://berkut:8080
BERKUT_DOCS_ONLYOFFICE_JWT_SECRET=
BERKUT_DOCS_ONLYOFFICE_JWT_HEADER=Authorization
BERKUT_DOCS_ONLYOFFICE_JWT_ISSUER=berkut-scc
BERKUT_DOCS_ONLYOFFICE_JWT_AUDIENCE=onlyoffice-document-server
BERKUT_DOCS_ONLYOFFICE_VERIFY_TLS=true
BERKUT_DOCS_ONLYOFFICE_REQUEST_TIMEOUT=20
BERKUT_DOCS_DLP_ENABLED=true
BERKUT_DOCS_DLP_APPROVAL_MINUTES=30
BERKUT_DOCS_DLP_PROTECT_CLIPBOARD_PRINT=true
BERKUT_INCIDENTS_STORAGE_DIR=/app/data/incidents
BERKUT_BACKUP_PATH=/app/data/backups
BERKUT_BACKUP_MAX_PARALLEL=1
BERKUT_BACKUP_PGDUMP_BIN=pg_dump
BERKUT_BACKUP_UPLOAD_MAX_BYTES=536870912
BERKUT_BACKUP_RESTORE_TEST_AUTO_ENABLED=true
BERKUT_BACKUP_RESTORE_TEST_INTERVAL_HOURS=168
# Keep this list as narrow as possible. Prefer explicit proxy IPs/CIDRs (no broad ranges like /8).
BERKUT_SECURITY_TRUSTED_PROXIES=
BERKUT_SECURITY_AUTH_LOCKOUT_INCIDENT=true

# Postgres service
POSTGRES_DB=berkut
POSTGRES_USER=berkut
POSTGRES_PASSWORD=berkut

# TLS runtime (used only if built-in TLS mode is selected)
BERKUT_TLS_ENABLED=false
BERKUT_TLS_CERT=
BERKUT_TLS_KEY=

# HTTPS settings (saved by UI/API; for automation/bootstrap)
HTTPS_MODE=disabled
HTTPS_PORT=8080
HTTPS_TRUSTED_PROXIES=
HTTPS_EXTERNAL_PROXY_HINT=nginx
HTTPS_BUILTIN_CERT_PATH=
HTTPS_BUILTIN_KEY_PATH=

# OnlyOffice container runtime
ONLYOFFICE_JWT_ENABLED=true
ONLYOFFICE_JWT_SECRET=REPLACE_WITH_STRONG_ONLYOFFICE_JWT_SECRET
ONLYOFFICE_JWT_HEADER=Authorization
PROXY_HTTP_PORT=80
PROXY_HTTPS_PORT=443
TLS_CERTS_PATH=./docker/certs

# Scheduler
BERKUT_SCHEDULER_ENABLED=true
BERKUT_SCHEDULER_INTERVAL_SECONDS=60
BERKUT_SCHEDULER_MAX_JOBS_PER_TICK=20
